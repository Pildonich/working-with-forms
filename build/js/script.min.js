"use strict";!function(){function o(e){localStorage.setItem("form",JSON.stringify(e))}function r(e){var r=e.target,t=r.name,n=r.value;a[t]=n,o(a)}function c(e){var r=document.createElement("div");return r.className="error",r.style.color="red",r.innerHTML=e,r}function e(e,r,t){var n=document.querySelector(r),o=document.querySelector(e).value;if(!/^[а-яА-ЯёЁ]{2,}$/.test(o)){var a=c(t);n.parentElement.insertBefore(a,n)}}function t(e,r,t){var n=document.querySelector(r),o=document.getElementsByName(e);if(!Array.prototype.filter.call(o,function(e){return e.checked}).length){var a=c(t);n.parentElement.insertBefore(a,n)}}var a=localStorage.getItem("form");a?a=JSON.parse(a):o(a={});var n=document.querySelectorAll("[name]");function u(){return!!(e(".name",".wrapper-name","Имя должно состоять только из русских букв и иметь длинну более 2х символов")||e(".surname",".wrapper-surname","Фамилия должна состоять только из русских букв и иметь длинну более 2х символов")||t("favorite-number",".wrapper-favorite-number","Выбирите любимую цифру")||t("favorite-color",".wrapper-favorite-color","Выбирите любимый цвет")||function(){var e=document.querySelector(".wrapper-favorite-music");if(!document.querySelector(".favorite-music").value){var r=c("Выбирите любимого музыкального исполнителя");e.parentElement.insertBefore(r,e)}}())}function i(){console.log("test1")}function l(){document.querySelector(".windows8").classList.remove("windows8--show");for(var e=0;e<n.length;e++)n[e].disabled=!1}Array.prototype.forEach.call(n,function(e){a[e.name]===e.value?e.checked=!0:"name"===e.name?e.value=a.name||"":"surname"===e.name?e.value=a.surname||"":"favorite-music"===e.name&&(e.value=a["favorite-music"]),e.addEventListener("change",r)}),document.querySelector(".submit").addEventListener("click",function(){var t;!function(){for(var e=document.querySelectorAll(".error"),r=0;r<e.length;r++)e[r].remove()}(),function(){document.querySelector(".windows8").classList.add("windows8--show");for(var e=0;e<n.length;e++)n[e].disabled=!0}(),(t=3e3,new Promise(function(e,r){return u(),!0===u()?setTimeout(e,t):setTimeout(r,t)})).then(i,l)})}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZvcm0uanMiXSwibmFtZXMiOlsic2F2ZSIsImRhdGEiLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwiSlNPTiIsInN0cmluZ2lmeSIsIm9uQ2hhbmdlIiwiZXZ0IiwiZWxlbWVudCIsInRhcmdldCIsIm5hbWUiLCJ2YWx1ZSIsImdlbmVyYXRlRXJyb3IiLCJ0ZXh0IiwiZXJyb3IiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc05hbWUiLCJzdHlsZSIsImNvbG9yIiwiaW5uZXJIVE1MIiwiY2hlY2tJbnB1dFRleHQiLCJpbnB1dCIsInNob3dFcnJvciIsImVycm9yVGV4dCIsIndyYXBwZXJOYW1lIiwicXVlcnlTZWxlY3RvciIsInRleHRWYWx1ZSIsInRlc3QiLCJwYXJlbnRFbGVtZW50IiwiaW5zZXJ0QmVmb3JlIiwiY2hlY2tJbnB1dFJhZGlvIiwiZmF2b3JpdGVOdW1iZXIiLCJnZXRFbGVtZW50c0J5TmFtZSIsIkFycmF5IiwicHJvdG90eXBlIiwiZmlsdGVyIiwiY2FsbCIsImVsZW0iLCJjaGVja2VkIiwibGVuZ3RoIiwiZ2V0SXRlbSIsInBhcnNlIiwiZGF0YUZvcm0iLCJxdWVyeVNlbGVjdG9yQWxsIiwiY2hlY2tGb3JtIiwiY2hlY2tNdXNpYyIsImYiLCJjb25zb2xlIiwibG9nIiwidW5CbG9ja0Zvcm0iLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJpIiwiZGlzYWJsZWQiLCJmb3JFYWNoIiwic3VybmFtZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJ0IiwiZXJyb3JzIiwicmVtb3ZlVmFsaWRhdGlvbiIsImFkZCIsImJsb2NrRm9ybSIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0Iiwic2V0VGltZW91dCIsInRoZW4iXSwibWFwcGluZ3MiOiJjQUFBLFdBRUUsU0FBU0EsRUFBS0MsR0FDWkMsYUFBYUMsUUFBUSxPQUFRQyxLQUFLQyxVQUFVSixJQUc5QyxTQUFTSyxFQUFTQyxHQUNoQixJQUFJQyxFQUFVRCxFQUFJRSxPQUNkQyxFQUFP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dXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiAoKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgZnVuY3Rpb24gc2F2ZShkYXRhKSB7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2Zvcm0nLCBKU09OLnN0cmluZ2lmeShkYXRhKSk7XG4gIH1cblxuICBmdW5jdGlvbiBvbkNoYW5nZShldnQpIHtcbiAgICBsZXQgZWxlbWVudCA9IGV2dC50YXJnZXQ7XG4gICAgbGV0IG5hbWUgPSBlbGVtZW50Lm5hbWU7XG4gICAgbGV0IHZhbHVlID0gZWxlbWVudC52YWx1ZTtcbiAgICBkYXRhW25hbWVdID0gdmFsdWU7XG4gICAgc2F2ZShkYXRhKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdlbmVyYXRlRXJyb3IodGV4dCkge1xuICAgIGxldCBlcnJvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGVycm9yLmNsYXNzTmFtZSA9ICdlcnJvcic7XG4gICAgZXJyb3Iuc3R5bGUuY29sb3IgPSAncmVkJztcbiAgICBlcnJvci5pbm5lckhUTUwgPSB0ZXh0O1xuICAgIHJldHVybiBlcnJvcjtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbW92ZVZhbGlkYXRpb24oKSB7XG4gICAgbGV0IGVycm9ycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5lcnJvcicpO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlcnJvcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGVycm9yc1tpXS5yZW1vdmUoKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjaGVja0lucHV0VGV4dChpbnB1dCwgc2hvd0Vycm9yLCBlcnJvclRleHQpIHtcbiAgICBsZXQgd3JhcHBlck5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNob3dFcnJvcik7XG4gICAgbGV0IHRleHRWYWx1ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoaW5wdXQpLnZhbHVlO1xuICAgIGxldCByZWdFeHAgPSAvXlvQsC3Rj9CQLdCv0ZHQgV17Mix9JC87XG4gICAgaWYgKCFyZWdFeHAudGVzdCh0ZXh0VmFsdWUpKSB7XG4gICAgICBsZXQgZXJyb3IgPSBnZW5lcmF0ZUVycm9yKGVycm9yVGV4dCk7XG4gICAgICB3cmFwcGVyTmFtZS5wYXJlbnRFbGVtZW50Lmluc2VydEJlZm9yZShlcnJvciwgd3JhcHBlck5hbWUpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNoZWNrSW5wdXRSYWRpbyhpbnB1dCwgc2hvd0Vycm9yLCBlcnJvclRleHQpIHtcbiAgICBsZXQgd3JhcHBlck5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNob3dFcnJvcik7XG4gICAgbGV0IGZhdm9yaXRlTnVtYmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUoaW5wdXQpO1xuICAgIGlmICghQXJyYXkucHJvdG90eXBlLmZpbHRlci5jYWxsKGZhdm9yaXRlTnVtYmVyLCBmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgcmV0dXJuIGVsZW0uY2hlY2tlZDtcbiAgICB9KS5sZW5ndGgpIHtcbiAgICAgIGxldCBlcnJvciA9IGdlbmVyYXRlRXJyb3IoZXJyb3JUZXh0KTtcbiAgICAgIHdyYXBwZXJOYW1lLnBhcmVudEVsZW1lbnQuaW5zZXJ0QmVmb3JlKGVycm9yLCB3cmFwcGVyTmFtZSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY2hlY2tNdXNpYygpIHtcbiAgICBsZXQgd3JhcHBlck5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcud3JhcHBlci1mYXZvcml0ZS1tdXNpYycpO1xuICAgIGxldCBmYXZvcml0ZU11c2ljID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZhdm9yaXRlLW11c2ljJykudmFsdWU7XG4gICAgaWYgKCFmYXZvcml0ZU11c2ljKSB7XG4gICAgICBsZXQgZXJyb3IgPSBnZW5lcmF0ZUVycm9yKCfQktGL0LHQuNGA0LjRgtC1INC70Y7QsdC40LzQvtCz0L4g0LzRg9C30YvQutCw0LvRjNC90L7Qs9C+INC40YHQv9C+0LvQvdC40YLQtdC70Y8nKTtcbiAgICAgIHdyYXBwZXJOYW1lLnBhcmVudEVsZW1lbnQuaW5zZXJ0QmVmb3JlKGVycm9yLCB3cmFwcGVyTmFtZSk7XG4gICAgfVxuICB9XG5cbiAgbGV0IGRhdGEgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZm9ybScpO1xuXG4gIGlmIChkYXRhKSB7XG4gICAgZGF0YSA9IEpTT04ucGFyc2UoZGF0YSk7XG4gIH0gZWxzZSB7XG4gICAgc2F2ZShkYXRhID0ge30pO1xuICB9XG5cbiAgbGV0IGRhdGFGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW25hbWVdJyk7XG5cbiAgQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChkYXRhRm9ybSwgZnVuY3Rpb24gKGV2dCkge1xuICAgIGlmIChkYXRhW2V2dC5uYW1lXSA9PT0gZXZ0LnZhbHVlKSB7XG4gICAgICBldnQuY2hlY2tlZCA9IHRydWU7XG4gICAgfSBlbHNlIGlmIChldnQubmFtZSA9PT0gJ25hbWUnKSB7XG4gICAgICBldnQudmFsdWUgPSBkYXRhLm5hbWUgfHwgJyc7XG4gICAgfSBlbHNlIGlmIChldnQubmFtZSA9PT0gJ3N1cm5hbWUnKSB7XG4gICAgICBldnQudmFsdWUgPSBkYXRhLnN1cm5hbWUgfHwgJyc7XG4gICAgfSBlbHNlIGlmIChldnQubmFtZSA9PT0gJ2Zhdm9yaXRlLW11c2ljJykge1xuICAgICAgZXZ0LnZhbHVlID0gZGF0YVsnZmF2b3JpdGUtbXVzaWMnXTtcbiAgICB9XG4gICAgZXZ0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIG9uQ2hhbmdlKTtcbiAgfSk7XG5cbiAgZnVuY3Rpb24gY2hlY2tGb3JtKCkge1xuICAgIHJldHVybiAhIShjaGVja0lucHV0VGV4dCgnLm5hbWUnLCAnLndyYXBwZXItbmFtZScsICfQmNC80Y8g0LTQvtC70LbQvdC+INGB0L7RgdGC0L7Rj9GC0Ywg0YLQvtC70YzQutC+INC40Lcg0YDRg9GB0YHQutC40YUg0LHRg9C60LIg0Lgg0LjQvNC10YLRjCDQtNC70LjQvdC90YMg0LHQvtC70LXQtSAy0YUg0YHQuNC80LLQvtC70L7QsicpIHx8XG4gICAgICBjaGVja0lucHV0VGV4dCgnLnN1cm5hbWUnLCAnLndyYXBwZXItc3VybmFtZScsICfQpNCw0LzQuNC70LjRjyDQtNC+0LvQttC90LAg0YHQvtGB0YLQvtGP0YLRjCDRgtC+0LvRjNC60L4g0LjQtyDRgNGD0YHRgdC60LjRhSDQsdGD0LrQsiDQuCDQuNC80LXRgtGMINC00LvQuNC90L3RgyDQsdC+0LvQtdC1IDLRhSDRgdC40LzQstC+0LvQvtCyJykgfHxcbiAgICAgIGNoZWNrSW5wdXRSYWRpbygnZmF2b3JpdGUtbnVtYmVyJywgJy53cmFwcGVyLWZhdm9yaXRlLW51bWJlcicsICfQktGL0LHQuNGA0LjRgtC1INC70Y7QsdC40LzRg9GOINGG0LjRhNGA0YMnKSB8fFxuICAgICAgY2hlY2tJbnB1dFJhZGlvKCdmYXZvcml0ZS1jb2xvcicsICcud3JhcHBlci1mYXZvcml0ZS1jb2xvcicsICfQktGL0LHQuNGA0LjRgtC1INC70Y7QsdC40LzRi9C5INGG0LLQtdGCJykgfHxcbiAgICAgIGNoZWNrTXVzaWMoKSk7XG4gIH1cblxuICBmdW5jdGlvbiBkZWxheSh0KSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIGNoZWNrRm9ybSgpO1xuICAgICAgaWYgKGNoZWNrRm9ybSgpID09PSB0cnVlKSB7XG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KHJlc29sdmUsIHQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQocmVqZWN0LCB0KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGYoKSB7XG4gICAgY29uc29sZS5sb2coJ3Rlc3QxJyk7XG4gIH1cblxuICBmdW5jdGlvbiBibG9ja0Zvcm0oKSB7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLndpbmRvd3M4JykuY2xhc3NMaXN0LmFkZCgnd2luZG93czgtLXNob3cnKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGFGb3JtLmxlbmd0aDsgaSsrKSB7XG4gICAgICBkYXRhRm9ybVtpXS5kaXNhYmxlZCA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdW5CbG9ja0Zvcm0oKSB7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLndpbmRvd3M4JykuY2xhc3NMaXN0LnJlbW92ZSgnd2luZG93czgtLXNob3cnKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGFGb3JtLmxlbmd0aDsgaSsrKSB7XG4gICAgICBkYXRhRm9ybVtpXS5kaXNhYmxlZCA9IGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIGxldCBzdWJtaXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc3VibWl0Jyk7XG5cbiAgc3VibWl0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgIHJlbW92ZVZhbGlkYXRpb24oKTtcbiAgICBibG9ja0Zvcm0oKTtcbiAgICBkZWxheSgzMDAwKS50aGVuKGYsIHVuQmxvY2tGb3JtKTtcbiAgfSk7XG59KSgpO1xuIl19
